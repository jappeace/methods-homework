function [meanpoints] = StairTresh(stair,nmeanpoints);% functie bepaalt drempel afkomstig uit staircase experiment% uitgevoerd met StairSetUp.m en StairUpdate.m% cp: 8/8/06if nargin < 2	nmeanpoints = 2;endnstairs = max(size(stair));ntrials = []; maxint = []; meanpoints = [];for i = 1:nstairs	plot(stair(i).intensity);	hold on	switchpoint = stair(i).switchtrial;	switchint = stair(i).intensity(switchpoint);	meanpoint = switchint(end-nmeanpoints+1:end);	meanswitchpoint = switchpoint(end-nmeanpoints+1:end);	plot(meanswitchpoint,meanpoint,'*');	title('staircase');	ylabel('intensity');	xlabel('trial nr');	meanpoints = [meanpoints stair(i).intensity(stair(i).switchtrial(end-nmeanpoints+1:end))];	ntrials = [ntrials stair(i).trialnr];	maxint = [maxint max(stair(i).intensity)];enderrorbar(max(ntrials)+2,mean(meanpoints),std(meanpoints),'o');axis([0 max(ntrials)+5 0 max(maxint)+10]);T = mean(meanpoints);SD = std(meanpoints);disp(['mean is: ' num2str(T) ', std is: ' num2str(std(meanpoints))]);hold off